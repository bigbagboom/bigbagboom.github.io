
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://www.zeusinolympia.eu.org/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://www.zeusinolympia.eu.org/theme/pygments/github.min.css">


  <link rel="stylesheet" type="text/css" href="https://www.zeusinolympia.eu.org/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://www.zeusinolympia.eu.org/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://www.zeusinolympia.eu.org/theme/font-awesome/css/solid.css">







<meta name="author" content="BBB" />
<meta name="description" content="之前网上下了本书，pdf格式，其中的图片全都看不到，只有一个个小方块。很大可能是制作书的人太粗心，只顾着把书生成出来，却 …" />
<meta name="keywords" content="">


<meta property="og:site_name" content="全是转载"/>
<meta property="og:title" content="Markdown转pdf"/>
<meta property="og:description" content="之前网上下了本书，pdf格式，其中的图片全都看不到，只有一个个小方块。很大可能是制作书的人太粗心，只顾着把书生成出来，却 …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.zeusinolympia.eu.org/markdownzhuan-pdf.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-05-01 14:13:00+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://www.zeusinolympia.eu.org/author/bbb.html">
<meta property="article:section" content="技术,Pandoc,Markdown"/>
<meta property="og:image" content="">

  <title>全是转载 &ndash; Markdown转pdf</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://www.zeusinolympia.eu.org">
        <img src="https://www.zeusinolympia.eu.org/theme/img/profile.png" alt="" title="">
      </a>

      <h1>
        <a href="https://www.zeusinolympia.eu.org"></a>
      </h1>



      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="https://github.com" >github</a>
            </li>
            <li>
              <a target="_self" href="http://getpelican.com/" >Pelican</a>
            </li>
            <li>
              <a target="_self" href="http://python.org/" >Python.org</a>
            </li>
            <li>
              <a target="_self" href="http://jinja.pocoo.org/" >Jinja2</a>
            </li>
            <li>
              <a target="_self" href="http://twitter.com/" >Twitter</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-You can add links in your config file" href="#" target="_blank">
              <i class="fab fa-You can add links in your config file"></i>
            </a>
          </li>
          <li>
            <a  class="sc-Another social link" href="#" target="_blank">
              <i class="fab fa-Another social link"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="markdownzhuan-pdf">Markdown转pdf</h1>
    <p>
      Posted on Wed 01 May 2019 in <a href="https://www.zeusinolympia.eu.org/category/ji-zhu-pandocmarkdown.html">技术,Pandoc,Markdown</a>

    </p>
  </header>


  <div>
    <p>之前网上下了本书，pdf格式，其中的图片全都看不到，只有一个个小方块。很大可能是制作书的人太粗心，只顾着把书生成出来，却没仔细检查一遍。好在书是开源的，在github上找到书的原始md格式后，我便想着自己重新制作一份，把那些缺失的图都补上。</p>
<p>想法是不错，但真做起来发现坑还是不少，所以需要记录一下。</p>
<p>第一个办法是下载chrome插件，使得md文件在chrome中能正常展现，然后使用打印功能另存为pdf文件，最后把所有打印的pdf文件拼接起来就行了。这办法笨了点，全手工，但还算是简单有效。我就是这么把书重新制作好了，挺好的，不过在我的另一台win10点呢上却碰到了问题。不管使用什么办法，md文件就是无法在chrome中显示了，而是一律作为文件下载。google了很多都不知道为什么，到现在还是没有解决，希望有朝一日会明白什么原因。</p>
<p>第二个办法，更高级，也更复杂，而且更多坑。这就是使用LaTex来制作。<a href="https://www.latex-project.org/">LaTex</a>是什么请直接访问链接了解，这里记录一下怎么借助它把markdown文件转为pdf，我使用的软件是 <a href="https://pandoc.org/">pandoc</a> 和 xelatex, 本来安装完pandoc 就可以一条命令生成pdf了，不过它缺省的pdf引擎对于cjk这种unicode字符不太友好，所以网上通常建议使用xelatex作为pdf引擎。这就需要安装<a href="https://miktex.org/">MikTex</a>这款软件了。安装这软件需要有直接的网络连接，不能通过proxy，至少我在windows下通过代理是没有安装成功。安装完之后，使用这个命令来生成pdf，假设转换的md文件是 01.0.md。</p>
<p>pandoc 01.0.md --pdf-engine=xelatex -o test.pdf</p>
<p>当然，我输入完这条命令后，毫无疑问是出错了。查了很多地方才找到一个不错的解决方案：</p>
<p>在md文件中加上这些设置：</p>
<hr>
<p>documentclass:
    - ctexart</p>
<hr>
<p>不过，实际经验告诉我，这并不一定能解决所有问题。所以，网上有人提供了一个不错的<a href="/pm-template.latex">template</a>，我修改了一下，但仍不能保证不会出错，如果出错，就只能修改md文件了，通常是一些特殊字符需要用\来转义，但找出这些问题需要很大的耐心。</p>
<p>命令也会相应改为：</p>
<p>pandoc 02.0.md -o 02.0.pdf --latex-engine=xelatex --template=pm-template.latex -f markdown-raw_tex </p>
<p><a href="/">回主页</a></p>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " 全是转载 ",
  "url" : "https://www.zeusinolympia.eu.org",
  "image": "",
  "description": ""
}
</script>


</body>
</html>